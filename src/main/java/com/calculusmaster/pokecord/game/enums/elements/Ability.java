package com.calculusmaster.pokecord.game.enums.elements;

import com.calculusmaster.pokecord.game.moves.data.AbilityData;
import com.calculusmaster.pokecord.util.Global;

import java.util.*;
import java.util.stream.Collectors;

public enum Ability
{
    STENCH,
    DRIZZLE,
    SPEED_BOOST,
    BATTLE_ARMOR,
    STURDY,
    DAMP,
    LIMBER,
    SAND_VEIL,
    STATIC,
    VOLT_ABSORB,
    WATER_ABSORB,
    OBLIVIOUS,
    CLOUD_NINE,
    COMPOUND_EYES,
    INSOMNIA,
    COLOR_CHANGE,
    IMMUNITY,
    FLASH_FIRE,
    SHIELD_DUST,
    OWN_TEMPO,
    SUCTION_CUPS,
    INTIMIDATE,
    SHADOW_TAG,
    ROUGH_SKIN,
    WONDER_GUARD,
    LEVITATE,
    EFFECT_SPORE,
    SYNCHRONIZE,
    CLEAR_BODY,
    NATURAL_CURE,
    LIGHTNING_ROD,
    SERENE_GRACE,
    SWIFT_SWIM,
    CHLOROPHYLL,
    ILLUMINATE,
    TRACE,
    HUGE_POWER,
    POISON_POINT,
    INNER_FOCUS,
    MAGMA_ARMOR,
    WATER_VEIL,
    MAGNET_PULL,
    SOUNDPROOF,
    RAIN_DISH,
    SAND_STREAM,
    PRESSURE,
    THICK_FAT,
    EARLY_BIRD,
    FLAME_BODY,
    RUN_AWAY,
    KEEN_EYE,
    HYPER_CUTTER,
    PICKUP,
    TRUANT,
    HUSTLE,
    CUTE_CHARM,
    PLUS,
    MINUS,
    FORECAST,
    STICKY_HOLD,
    SHED_SKIN,
    GUTS,
    MARVEL_SCALE,
    LIQUID_OOZE,
    OVERGROW,
    BLAZE,
    TORRENT,
    SWARM,
    ROCK_HEAD,
    DROUGHT,
    ARENA_TRAP,
    VITAL_SPIRIT,
    WHITE_SMOKE,
    PURE_POWER,
    SHELL_ARMOR,
    AIR_LOCK,
    TANGLED_FEET,
    MOTOR_DRIVE,
    RIVALRY,
    STEADFAST,
    SNOW_CLOAK,
    GLUTTONY,
    ANGER_POINT,
    UNBURDEN,
    HEATPROOF,
    SIMPLE,
    DRY_SKIN,
    DOWNLOAD,
    IRON_FIST,
    POISON_HEAL,
    ADAPTABILITY,
    SKILL_LINK,
    HYDRATION,
    SOLAR_POWER,
    QUICK_FEET,
    NORMALIZE,
    SNIPER,
    MAGIC_GUARD,
    NO_GUARD,
    STALL,
    TECHNICIAN,
    LEAF_GUARD,
    KLUTZ,
    MOLD_BREAKER,
    SUPER_LUCK,
    AFTERMATH,
    ANTICIPATION,
    FOREWARN,
    UNAWARE,
    TINTED_LENS,
    FILTER,
    SLOW_START,
    SCRAPPY,
    STORM_DRAIN,
    ICE_BODY,
    SOLID_ROCK,
    SNOW_WARNING,
    HONEY_GATHER,
    FRISK,
    RECKLESS,
    MULTITYPE,
    FLOWER_GIFT,
    BAD_DREAMS,
    PICKPOCKET,
    SHEER_FORCE,
    CONTRARY,
    UNNERVE,
    DEFIANT,
    DEFEATIST,
    CURSED_BODY,
    HEALER,
    FRIEND_GUARD,
    WEAK_ARMOR,
    HEAVY_METAL,
    LIGHT_METAL,
    MULTISCALE,
    TOXIC_BOOST,
    FLARE_BOOST,
    HARVEST,
    TELEPATHY,
    MOODY,
    OVERCOAT,
    POISON_TOUCH,
    REGENERATOR,
    BIG_PECKS,
    SAND_RUSH,
    WONDER_SKIN,
    ANALYTIC,
    ILLUSION,
    IMPOSTER,
    INFILTRATOR,
    MUMMY,
    MOXIE,
    JUSTIFIED,
    RATTLED,
    MAGIC_BOUNCE,
    SAP_SIPPER,
    PRANKSTER,
    SAND_FORCE,
    IRON_BARBS,
    ZEN_MODE,
    VICTORY_STAR,
    TURBOBLAZE,
    TERAVOLT,
    AROMA_VEIL,
    FLOWER_VEIL,
    CHEEK_POUCH,
    PROTEAN,
    FUR_COAT,
    MAGICIAN,
    BULLETPROOF,
    COMPETITIVE,
    STRONG_JAW,
    REFRIGERATE,
    SWEET_VEIL,
    STANCE_CHANGE,
    GALE_WINGS,
    MEGA_LAUNCHER,
    GRASS_PELT,
    SYMBIOSIS,
    TOUGH_CLAWS,
    PIXILATE,
    GOOEY,
    AERILATE,
    PARENTAL_BOND,
    DARK_AURA,
    FAIRY_AURA,
    AURA_BREAK,
    PRIMORDIAL_SEA,
    DESOLATE_LAND,
    DELTA_STREAM,
    STAMINA,
    WIMP_OUT,
    EMERGENCY_EXIT,
    WATER_COMPACTION,
    MERCILESS,
    SHIELDS_DOWN,
    STAKEOUT,
    WATER_BUBBLE,
    STEELWORKER,
    BERSERK,
    SLUSH_RUSH,
    LONG_REACH,
    LIQUID_VOICE,
    TRIAGE,
    GALVANIZE,
    SURGE_SURFER,
    SCHOOLING,
    DISGUISE,
    BATTLE_BOND,
    POWER_CONSTRUCT,
    CORROSION,
    COMATOSE,
    QUEENLY_MAJESTY,
    INNARDS_OUT,
    DANCER,
    BATTERY,
    FLUFFY,
    DAZZLING,
    SOUL_HEART,
    TANGLING_HAIR,
    RECEIVER,
    POWER_OF_ALCHEMY,
    BEAST_BOOST,
    RKS_SYSTEM,
    ELECTRIC_SURGE,
    PSYCHIC_SURGE,
    MISTY_SURGE,
    GRASSY_SURGE,
    FULL_METAL_BODY,
    SHADOW_SHIELD,
    PRISM_ARMOR,
    NEUROFORCE,
    INTREPID_SWORD,
    DAUNTLESS_SHIELD,
    LIBERO,
    BALL_FETCH,
    COTTON_DOWN,
    PROPELLER_TAIL,
    MIRROR_ARMOR,
    GULP_MISSILE,
    STALWART,
    STEAM_ENGINE,
    PUNK_ROCK,
    SAND_SPIT,
    ICE_SCALES,
    RIPEN,
    ICE_FACE,
    POWER_SPOT,
    MIMICRY,
    SCREEN_CLEANER,
    STEELY_SPIRIT,
    PERISH_BODY,
    WANDERING_SPIRIT,
    GORILLA_TACTICS,
    NEUTRALIZING_GAS,
    PASTEL_VEIL,
    HUNGER_SWITCH,
    QUICK_DRAW,
    UNSEEN_FIST,
    CURIOUS_MEDICINE,
    TRANSISTOR,
    DRAGONS_MAW,
    CHILLING_NEIGH,
    GRIM_NEIGH,
    AS_ONE_GLASTRIER,
    AS_ONE_SPECTRIER,
    LINGERING_AROMA,
    SEED_SOWER,
    THERMAL_EXCHANGE,
    ANGER_SHELL,
    PURIFYING_SALT,
    WELL_BAKED_BODY,
    WIND_RIDER,
    GUARD_DOG,
    ROCKY_PAYLOAD,
    WIND_POWER,
    ZERO_TO_HERO,
    COMMANDER,
    ELECTROMORPHOSIS,
    PROTOSYNTHESIS,
    QUARK_DRIVE,
    GOOD_AS_GOLD,
    VESSEL_OF_RUIN,
    SWORD_OF_RUIN,
    TABLETS_OF_RUIN,
    BEADS_OF_RUIN,
    ORICHALCUM_PULSE,
    HADRON_ENGINE,
    OPPORTUNIST,
    CUD_CHEW,
    SHARPNESS,
    SUPREME_OVERLORD,
    COSTAR,
    TOXIC_DEBRIS,
    ARMOR_TAIL,
    EARTH_EATER,
    MYCELIUM_MIGHT,

    ;

    //TODO: Remaining Ability interactions
    //Aroma Veil: Heal Block, Cursed Body

    public static final EnumSet<Ability> IGNORABLE = EnumSet.of(BATTLE_ARMOR, CLEAR_BODY, DAMP, DRY_SKIN, FILTER, FLASH_FIRE, FLOWER_GIFT, HEATPROOF, HYPER_CUTTER, IMMUNITY, INNER_FOCUS, INSOMNIA, KEEN_EYE, LEAF_GUARD, LEVITATE, LIGHTNING_ROD, LIMBER, MAGMA_ARMOR, MARVEL_SCALE, MOTOR_DRIVE, OBLIVIOUS, OWN_TEMPO, SAND_VEIL, SHELL_ARMOR, SHIELD_DUST, SIMPLE, SNOW_CLOAK, SOLID_ROCK, SOUNDPROOF, STICKY_HOLD, STORM_DRAIN, STURDY, SUCTION_CUPS, TANGLED_FEET, THICK_FAT, UNAWARE, VITAL_SPIRIT, VOLT_ABSORB, WATER_ABSORB, WATER_VEIL, WHITE_SMOKE, WONDER_GUARD, BIG_PECKS, CONTRARY, FRIEND_GUARD, HEAVY_METAL, LIGHT_METAL, MAGIC_BOUNCE, MULTISCALE, SAP_SIPPER, TELEPATHY, WONDER_SKIN, AURA_BREAK, AROMA_VEIL, BULLETPROOF, DARK_AURA, FAIRY_AURA, FLOWER_VEIL, FUR_COAT, OVERCOAT, SWEET_VEIL, DAZZLING, DISGUISE, FLUFFY, QUEENLY_MAJESTY, WATER_BUBBLE, ICE_SCALES, ICE_FACE, MIRROR_ARMOR, PASTEL_VEIL, PUNK_ROCK);
    public static final List<Ability> IMPLEMENTED = List.of(DESOLATE_LAND, PRIMORDIAL_SEA, DELTA_STREAM, MULTITYPE, ADAPTABILITY, TECHNICIAN, DISGUISE, DRIZZLE, SNOW_WARNING, DROUGHT, SAND_STREAM, STANCE_CHANGE, IRON_BARBS, LEVITATE, GRIM_NEIGH, CHILLING_NEIGH, DRAGONS_MAW, TRANSISTOR, SPEED_BOOST, WONDER_GUARD, BATTLE_ARMOR, DAMP, LIMBER, PASTEL_VEIL, PIXILATE, DAUNTLESS_SHIELD, NEUROFORCE, PRISM_ARMOR, GALE_WINGS, STEELY_SPIRIT, LIQUID_VOICE, STRONG_JAW, INTREPID_SWORD, SAND_FORCE, STEADFAST, RIPEN, COTTON_DOWN, AERILATE, TORRENT, STATIC, BIG_PECKS, TOXIC_BOOST, SOUNDPROOF, WEAK_ARMOR, MEGA_LAUNCHER, SHADOW_SHIELD, BULLETPROOF, FLUFFY, VOLT_ABSORB, ICE_SCALES, ELECTRIC_SURGE, PSYCHIC_SURGE, GRASSY_SURGE, MISTY_SURGE, LEAF_GUARD, LIGHTNING_ROD, CORROSION, SKILL_LINK, MOXIE, SAND_VEIL, WATER_VEIL, VICTORY_STAR, AROMA_VEIL, HUSTLE, HEAVY_METAL, SWIFT_SWIM, ANGER_POINT, MULTISCALE, VITAL_SPIRIT, COLOR_CHANGE, DEFEATIST, COMPETITIVE, JUSTIFIED, SERENE_GRACE, FLASH_FIRE, INNER_FOCUS, MAGMA_ARMOR, SAP_SIPPER, BAD_DREAMS, POISON_TOUCH, STEAM_ENGINE, MOLD_BREAKER, TURBOBLAZE, TERAVOLT);

    public static final Map<Ability, AbilityData> ABILITY_DATA = new HashMap<>();

    public static void init()
    {
        for(Ability ability : values()) ABILITY_DATA.put(ability, new AbilityData(ability));
    }

    public AbilityData data()
    {
        return ABILITY_DATA.get(this);
    }

    public String getName()
    {
        return this.data().getName();
    }

    public String getJSONFileName()
    {
        return Arrays.stream(this.toString().split("_")).map(Global::normalize).collect(Collectors.joining("_"));
    }

    public static Ability cast(String input)
    {
        Ability a = Global.getEnumFromString(values(), input);
        return a == null ? Arrays.stream(values()).filter(entity -> entity.data().getName().equalsIgnoreCase(input)).findFirst().orElse(null) : a;
    }

    public String formatActivation(String userName, String result)
    {
        return "*" + userName + "'s " + this.getName() + "* â€“ " + result + "\n";
    }
}
